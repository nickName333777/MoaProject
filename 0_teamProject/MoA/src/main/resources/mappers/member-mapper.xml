<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="edu.og.moa.member.model.dao.MemberMapper">
	
	<resultMap id="member_rm" type="edu.og.moa.member.model.dto.Member">
		<id property="memberNo" column="MEMBER_NO" />
		<result property="memberId" column="MEMBER_ID" />
		<result property="memberEmail" column="MEMBER_EMAIL" />
		<result property="memberPw" column="MEMBER_PW" />
		<result property="memberNickname" column="MEMBER_NICKNAME" />
		<result property="memberTel" column="MEMBER_TEL" />
		<result property="memberAddr" column="MEMBER_ADDR" />
		<result property="memberAdmin" column="MEMBER_ADMIN" />
		<result property="profileImg" column="PROFILE_IMG" />
		<result property="memberDelFl" column="MEMBER_DEL_FL" />
	</resultMap>

	<insert id="signUp" parameterType="edu.og.moa.member.model.dto.Member">
	
		
		
		INSERT INTO MEMBER (
	        MEMBER_NO,
	        MEMBER_ID,
	        MEMBER_EMAIL,
	        MEMBER_PW,
	        MEMBER_NICKNAME,
	        MEMBER_TEL,
	        MEMBER_ADDR,
	        MEMBER_ADMIN,
	        PROFILE_IMG,
	        MEMBER_DEL_FL
	    )
	    
		VALUES(
			SEQ_MEMBER_NO.NEXTVAL,
			#{memberId},
			#{memberEmail},
			#{memberPw},
			#{memberNickname},
			#{memberTel},
			#{memberAddr},
			'N',
			DEFAULT,
			DEFAULT
		
			
		)
	
	</insert>
	
	
	<select id="login" resultMap="member_rm">
		
		SELECT MEMBER_NO, MEMBER_ID, MEMBER_EMAIL, MEMBER_PW,
        		MEMBER_NICKNAME, MEMBER_TEL, MEMBER_ADDR, MEMBER_ADMIN,
        		PROFILE_IMG, MEMBER_DEL_FL
        
		FROM MEMBER
		WHERE MEMBER_DEL_FL = 'N'
		AND MEMBER_ID = #{memberId}
		AND MEMBER_PW = #{memberPw}
		
		
		
	</select>

  
</mapper>
