<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="edu.og.moa.member.model.dao.AjaxMapper">

						 
	<resultMap id="member_rm" type="edu.og.moa.member.model.dto.Member">
		<id property="memberNo" column="MEMBER_NO" />
		<result property="memberId" column="MEMBER_ID" />
		<result property="memberEmail" column="MEMBER_EMAIL" />
		<result property="memberPw" column="MEMBER_PW" />
		<result property="memberNickname" column="MEMBER_NICKNAME" />
		<result property="memberTel" column="MEMBER_TEL" />
		<result property="memberAddr" column="MEMBER_ADDR" />
		<result property="memberAdmin" column="MEMBER_ADMIN" />
		<result property="profileImg" column="PROFILE_IMG" />
		<result property="memberDelFl" column="MEMBER_DEL_FL" />
	</resultMap>
						 

	 <!-- 아이디 중복 검사 -->
	 
	 <select id="dupCheckId" resultType="_int">
	 	SELECT COUNT (*) FROM MEMBER
		WHERE MEMBER_ID = #{memberId}
		AND MEMBER_DEL_FL = 'N'
	 
	 </select>


	 <!-- 이메일 중복 검사 -->
	 
	 <select id="checkEmail" resultType="_int">
	 	SELECT COUNT (*) FROM MEMBER
		WHERE MEMBER_EMAIL = #{email}
		AND MEMBER_DEL_FL = 'N'
	 
	 </select>
	 
	 <!-- 닉네임 중복 검사 -->
	 <select id="checkNickname" resultType="int">
	 	SELECT COUNT(*) FROM MEMBER
		WHERE MEMBER_NICKNAME = #{nickname}
		AND MEMBER_DEL_FL = 'N'
	 
	 </select>
	 
	
  
</mapper>
