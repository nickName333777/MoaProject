<div id="map-area">

    <p th:text="*{pmHouseName}">장소</p>
    <table border="1">
        <tr>
            <td style="width: 100px; height: 50px;">주소</td>
            <td><p th:text="*{pmHouseAddress}" ></p></td>
        </tr>
        <tr>
            <td style="width: 100px; height: 50px;">홈페이지</td>
            <td>
                <a th:href="*{pmHouseWebsite}" th:text="*{pmHouseWebsite}">웹사이트</a>
            </td>
        </tr>
        <tr>
            <td style="width: 100px; height: 50px;">전화번호</td>
            <td>
                <p th:text="*{pmHouseHome}">전화번호</p>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <div id="map" style="width:800px;height:800px;"></div>
            </td>
        </tr>
    </table>
</div>
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=d2c471704b06af9ff6269bd341c9f1dd"></script>
<script th:inline="javascript">

    document.addEventListener("DOMContentLoaded", function() {

        var lat = /*[[${board.pmHouseLat}]]*/ "위도";
        var long = /*[[${board.pmHouseLong}]]*/ "위도";
        
        var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
            mapOption = { 
                center: new kakao.maps.LatLng(lat, long), // 지도의 중심좌표
                level: 3 // 지도의 확대 레벨
            };

        var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

        // 마커가 표시될 위치입니다 
        var markerPosition  = new kakao.maps.LatLng(lat, long); 

        // 마커를 생성합니다
        var marker = new kakao.maps.Marker({
            position: markerPosition
        });

        // 마커가 지도 위에 표시되도록 설정합니다
        marker.setMap(map);

        // 아래 코드는 지도 위의 마커를 제거하는 코드입니다
        // marker.setMap(null);    

        
        document.querySelector('button[data-bs-target="#contact-tab-pane"]')
        .addEventListener('shown.bs.tab', function () {
            map.relayout();
            map.setCenter(new kakao.maps.LatLng(lat, long));
        });



    });
</script>